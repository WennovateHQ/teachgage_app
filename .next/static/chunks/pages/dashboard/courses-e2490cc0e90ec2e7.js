(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1877],{37421:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/courses",function(){return a(36413)}])},47935:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(63759).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},7571:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(63759).Z)("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},96815:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(63759).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},4270:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(63759).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},37864:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(63759).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},36413:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return k}});var t=a(85893),r=a(67294),l=a(11163),i=a(9008),n=a.n(i),c=a(41664),d=a.n(c),o=a(37363),u=a(28259),h=a(40307),x=a(4270),g=a(36127),m=a(47935),b=a(32089),v=a(7571),j=a(89176),y=a(23346),f=a(15928),p=a(96815),N=a(37864),w=a(7162);function k(){var e;let{user:s,isAuthenticated:a,isLoading:i}=(0,u.a)(),c=(0,l.useRouter)(),[k,Z]=(0,r.useState)(""),[C,A]=(0,r.useState)("all"),[M,_]=(0,r.useState)(!1),[L,S]=(0,r.useState)(null),{data:D,isLoading:E,error:T}=(0,h.pt)({search:k,status:"all"!==C?C:void 0}),P=(0,h.MX)();if(i)return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-teachgage-blue"})});if(!a)return c.push("/auth/signin"),null;let F=async()=>{if(L)try{await P.mutateAsync(L.id),_(!1),S(null)}catch(e){console.error("Error deleting course:",e)}},V=(Array.isArray(null==D?void 0:null===(e=D.data)||void 0===e?void 0:e.courses)?D.data.courses:Array.isArray(null==D?void 0:D.data)?D.data:Array.isArray(D)?D:[]).filter(e=>{var s;let a=(e.name||e.title||"").toLowerCase().includes(k.toLowerCase())||(null===(s=e.description)||void 0===s?void 0:s.toLowerCase().includes(k.toLowerCase())),t="all"===C||e.status===C;return a&&t});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n(),{children:[(0,t.jsx)("title",{children:"Courses - TeachGage"}),(0,t.jsx)("meta",{name:"description",content:"Manage your courses"})]}),(0,t.jsxs)(o.Z,{title:"Courses",children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-teachgage-blue",children:"My Courses"}),(0,t.jsx)("p",{className:"text-teachgage-navy",children:"Manage your courses and track student engagement"})]}),(0,t.jsx)(d(),{href:"/dashboard/courses/create",children:(0,t.jsxs)("button",{className:"inline-flex items-center px-4 py-2 bg-teachgage-blue text-white rounded-lg hover:bg-teachgage-medium-blue transition-colors",children:[(0,t.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"Create Course"]})})]}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 p-6",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(g.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search courses...",value:k,onChange:e=>Z(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teachgage-blue focus:border-transparent"})]})}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.Z,{className:"h-4 w-4 text-gray-400"}),(0,t.jsxs)("select",{value:C,onChange:e=>A(e.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teachgage-blue focus:border-transparent",children:[(0,t.jsx)("option",{value:"all",children:"All Status"}),(0,t.jsx)("option",{value:"active",children:"Active"}),(0,t.jsx)("option",{value:"draft",children:"Draft"}),(0,t.jsx)("option",{value:"archived",children:"Archived"})]})]})]})}),E?(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,s)=>(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow animate-pulse",children:[(0,t.jsx)("div",{className:"h-48 bg-gray-200 rounded-t-lg"}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,t.jsx)("div",{className:"h-3 bg-gray-200 rounded mb-4"}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("div",{className:"h-3 bg-gray-200 rounded w-16"}),(0,t.jsx)("div",{className:"h-3 bg-gray-200 rounded w-20"})]})]})]},s))}):T?(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:(0,t.jsx)("p",{className:"text-red-600",children:"Failed to load courses. Please try again."})}):0===V.length?(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[(0,t.jsx)(b.Z,{className:"h-12 w-12 text-teachgage-navy mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-teachgage-blue mb-2",children:"No courses found"}),(0,t.jsx)("p",{className:"text-teachgage-navy mb-6",children:k||"all"!==C?"Try adjusting your search or filter criteria.":"Get started by creating your first course."}),!k&&"all"===C&&(0,t.jsx)(d(),{href:"/dashboard/courses/create",children:(0,t.jsxs)("button",{className:"inline-flex items-center px-4 py-2 bg-teachgage-blue text-white rounded-lg hover:bg-teachgage-medium-blue transition-colors",children:[(0,t.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"Create Your First Course"]})})]}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:V.map(e=>{var s,a;return(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 hover:shadow-xl transition-shadow",children:[(0,t.jsxs)("div",{className:"h-48 bg-gradient-to-br from-teachgage-blue to-teachgage-medium-blue rounded-t-lg relative",children:[(0,t.jsx)("div",{className:"absolute top-4 right-4",children:(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)("button",{className:"p-2 bg-white bg-opacity-20 rounded-full text-white hover:bg-opacity-30 transition-colors",children:(0,t.jsx)(v.Z,{className:"h-4 w-4"})})})}),(0,t.jsx)("div",{className:"absolute bottom-4 left-4",children:(0,t.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("active"===e.status?"bg-green-100 text-green-800":"draft"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:(null===(s=e.status)||void 0===s?void 0:s.charAt(0).toUpperCase())+(null===(a=e.status)||void 0===a?void 0:a.slice(1))})})]}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg text-teachgage-blue mb-2 line-clamp-1",children:e.name||e.title}),(0,t.jsx)("p",{className:"text-teachgage-navy text-sm mb-4 line-clamp-2",children:e.description||"No description available"}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm text-teachgage-navy mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(j.Z,{className:"h-4 w-4 mr-1"}),(0,t.jsxs)("span",{children:[e.studentCount||0," students"]})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(y.Z,{className:"h-4 w-4 mr-1"}),(0,t.jsx)("span",{children:e.createdAt?(0,w.Z)(new Date(e.createdAt),"MMM d"):"N/A"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(d(),{href:"/dashboard/courses/".concat(e.id),children:(0,t.jsxs)("button",{className:"inline-flex items-center text-teachgage-blue hover:text-teachgage-medium-blue font-medium",children:[(0,t.jsx)(f.Z,{className:"h-4 w-4 mr-1"}),"View Details"]})}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(d(),{href:"/dashboard/courses/".concat(e.id,"/edit"),children:(0,t.jsx)("button",{className:"p-2 text-teachgage-navy hover:text-teachgage-blue transition-colors",children:(0,t.jsx)(p.Z,{className:"h-4 w-4"})})}),(0,t.jsx)("button",{onClick:()=>{S(e),_(!0)},className:"p-2 text-teachgage-navy hover:text-red-500 transition-colors",children:(0,t.jsx)(N.Z,{className:"h-4 w-4"})})]})]})]})]},e.id)})})]}),M&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-teachgage-blue mb-4",children:"Delete Course"}),(0,t.jsxs)("p",{className:"text-teachgage-navy mb-6",children:['Are you sure you want to delete "',null==L?void 0:L.name,'"? This action cannot be undone.']}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,t.jsx)("button",{onClick:()=>{_(!1),S(null)},className:"px-4 py-2 text-teachgage-navy bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:F,disabled:P.isLoading,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50",children:P.isLoading?"Deleting...":"Delete"})]})]})})]})]})}}},function(e){e.O(0,[7005,2430,1940,7066,7363,307,2888,9774,179],function(){return e(e.s=37421)}),_N_E=e.O()}]);