(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7235],{91597:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/organization/departments",function(){return a(62842)}])},28562:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(63759).Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},77918:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(63759).Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},32089:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(63759).Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},39889:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(63759).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},185:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(63759).Z)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]])},4307:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(63759).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},14235:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(63759).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},15928:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(63759).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2553:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(63759).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},38361:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(63759).Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])},70775:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(63759).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},78497:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(63759).Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},15452:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(63759).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},7571:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(63759).Z)("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},96815:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(63759).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},4270:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(63759).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},36127:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(63759).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},55264:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(63759).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},37864:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(63759).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},8267:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(63759).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},89176:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(63759).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},62190:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(63759).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},46611:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(63759).Z)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]])},81476:function(e,t,a){"use strict";a.d(t,{Z:function(){return c}});var s=a(85893),r=a(41664),n=a.n(r),i=a(38361),l=a(4307);function c(e){let{items:t=[]}=e,a=[{name:"Dashboard",href:"/dashboard",icon:i.Z},...t];return(0,s.jsx)("nav",{className:"flex items-center space-x-2 text-sm text-teachgage-navy mb-6",children:a.map((e,t)=>{let r=t===a.length-1,i=e.icon;return(0,s.jsxs)("div",{className:"flex items-center",children:[t>0&&(0,s.jsx)(l.Z,{className:"w-4 h-4 text-gray-400 mx-2"}),r?(0,s.jsxs)("span",{className:"text-teachgage-blue font-medium flex items-center",children:[i&&(0,s.jsx)(i,{className:"w-4 h-4 mr-1"}),e.name]}):(0,s.jsxs)(n(),{href:e.href,className:"hover:text-teachgage-blue flex items-center transition-colors",children:[i&&(0,s.jsx)(i,{className:"w-4 h-4 mr-1"}),e.name]})]},t)})})}},62842:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return b}});var s=a(85893),r=a(67294),n=a(11163),i=a(9008),l=a.n(i),c=a(37363),d=a(81476),o=a(28259),h=a(64017),u=a(4270),x=a(36127),m=a(185),g=a(7571),y=a(15928),f=a(96815),p=a(89176),v=a(37864);function b(){let e=(0,n.useRouter)(),{user:t,isAuthenticated:a,isLoading:i}=(0,o.a)(),[b,j]=(0,r.useState)(null),[k,N]=(0,r.useState)([]),[Z,w]=(0,r.useState)([]),[M,z]=(0,r.useState)([]),[C,I]=(0,r.useState)(""),[q,H]=(0,r.useState)(!0);(0,r.useEffect)(()=>{if(!a&&!i){e.push("/auth/signin");return}if(t&&"organization_admin"!==t.role){e.push("/dashboard");return}(null==t?void 0:t.organizationId)&&_()},[t,a,i,e]);let _=()=>{try{let e=h.IR.find(e=>e.id===t.organizationId);j(e);let a=h.W9.filter(e=>e.organizationId===t.organizationId);N(a);let s=h.Ft.organizationInstructors.filter(e=>e.organizationId===t.organizationId);w(s);let r=h.dt.filter(e=>e.organizationId===t.organizationId);z(r)}catch(e){console.error("Failed to load organization data:",e)}finally{H(!1)}},D=k.filter(e=>{var t;return""===C||e.name.toLowerCase().includes(C.toLowerCase())||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(C.toLowerCase()))}),S=e=>{let t=Z.filter(t=>t.departmentId===e),a=M.filter(t=>t.departmentId===e);return{instructors:t.length,courses:a.length,activeCourses:a.filter(e=>"active"===e.status).length}},V=()=>{e.push("/dashboard/organization/departments/create")},T=t=>{e.push("/dashboard/organization/departments/".concat(t))},E=t=>{e.push("/dashboard/organization/departments/".concat(t,"/edit"))},L=t=>{e.push("/dashboard/organization/departments/".concat(t,"/users"))},O=e=>{let t=S(e.id);if(t.instructors>0||t.courses>0){alert('Cannot delete department "'.concat(e.name,'" because it has ').concat(t.instructors," instructors and ").concat(t.courses," courses. Please reassign or remove them first."));return}window.confirm('Are you sure you want to delete the "'.concat(e.name,'" department?'))&&alert("Delete department functionality would be implemented here")};return i||q?(0,s.jsx)(c.Z,{children:(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-teachgage-blue"})})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l(),{children:(0,s.jsx)("title",{children:"Organization Departments - TeachGage"})}),(0,s.jsx)(c.Z,{children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(d.Z,{items:[{label:"Dashboard",href:"/dashboard"},{label:"Organization",href:"/dashboard/organization"},{label:"Departments",href:"/dashboard/organization/departments"}]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-teachgage-blue",children:"Departments"}),(0,s.jsxs)("p",{className:"text-teachgage-navy",children:["Manage departments for ",null==b?void 0:b.name]})]}),(0,s.jsxs)("button",{onClick:V,className:"inline-flex items-center px-4 py-2 bg-teachgage-blue text-white rounded-lg hover:bg-teachgage-medium-blue transition-colors",children:[(0,s.jsx)(u.Z,{className:"w-4 h-4 mr-2"}),"Create Department"]})]}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,s.jsxs)("div",{className:"relative max-w-md",children:[(0,s.jsx)(x.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,s.jsx)("input",{type:"text",placeholder:"Search departments...",value:C,onChange:e=>I(e.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teachgage-blue focus:border-transparent"})]})}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:0===D.length?(0,s.jsx)("div",{className:"col-span-full",children:(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(m.Z,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:C?"No departments found":"No departments yet"}),(0,s.jsx)("p",{className:"text-gray-500 mb-6",children:C?"Try adjusting your search criteria.":"Create your first department to organize your instructors and courses."}),!C&&(0,s.jsxs)("button",{onClick:V,className:"inline-flex items-center px-4 py-2 bg-teachgage-blue text-white rounded-lg hover:bg-teachgage-medium-blue transition-colors",children:[(0,s.jsx)(u.Z,{className:"w-4 h-4 mr-2"}),"Create First Department"]})]})}):D.map(e=>{var t,a;let r=S(e.id);return(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-teachgage-blue rounded-lg flex items-center justify-center",children:(0,s.jsx)(m.Z,{className:"w-6 h-6 text-white"})}),(0,s.jsxs)("div",{className:"ml-3",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-teachgage-blue",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-teachgage-navy",children:e.code})]})]}),(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("button",{className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",children:(0,s.jsx)(g.Z,{className:"w-4 h-4"})})})]}),e.description&&(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:e.description}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-teachgage-blue",children:r.instructors}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:"Instructors"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-teachgage-green",children:r.activeCourses}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:"Active Courses"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-teachgage-orange",children:r.courses}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:"Total Courses"})]})]}),e.headId&&(0,s.jsxs)("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[(0,s.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Department Head"}),(0,s.jsxs)("div",{className:"text-sm font-medium text-teachgage-blue",children:[null===(t=Z.find(t=>t.id===e.headId))||void 0===t?void 0:t.firstName," "," ",null===(a=Z.find(t=>t.id===e.headId))||void 0===a?void 0:a.lastName]})]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsxs)("button",{onClick:()=>T(e.id),className:"flex-1 inline-flex items-center justify-center px-3 py-2 border border-teachgage-blue text-teachgage-blue rounded-lg hover:bg-teachgage-blue hover:text-white transition-colors text-sm",children:[(0,s.jsx)(y.Z,{className:"w-4 h-4 mr-1"}),"View"]}),(0,s.jsxs)("button",{onClick:()=>E(e.id),className:"flex-1 inline-flex items-center justify-center px-3 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm",children:[(0,s.jsx)(f.Z,{className:"w-4 h-4 mr-1"}),"Edit"]})]}),(0,s.jsxs)("div",{className:"flex space-x-2 mt-2",children:[(0,s.jsxs)("button",{onClick:()=>L(e.id),className:"flex-1 inline-flex items-center justify-center px-3 py-2 bg-teachgage-green text-white rounded-lg hover:bg-teachgage-green/90 transition-colors text-sm",children:[(0,s.jsx)(p.Z,{className:"w-4 h-4 mr-1"}),"Manage Users"]}),(0,s.jsx)("button",{onClick:()=>O(e),className:"px-3 py-2 text-red-600 hover:text-red-800 transition-colors",title:"Delete Department",children:(0,s.jsx)(v.Z,{className:"w-4 h-4"})})]})]})},e.id)})}),k.length>0&&(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-teachgage-blue mb-4",children:"Organization Summary"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-3xl font-bold text-teachgage-blue mb-2",children:k.length}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Total Departments"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-3xl font-bold text-teachgage-green mb-2",children:Z.length}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Total Instructors"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-3xl font-bold text-teachgage-orange mb-2",children:M.length}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Total Courses"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-3xl font-bold text-teachgage-navy mb-2",children:M.filter(e=>"active"===e.status).length}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Active Courses"})]})]})]})]})})]})}},11163:function(e,t,a){e.exports=a(43079)}},function(e){e.O(0,[7005,2430,7363,2888,9774,179],function(){return e(e.s=91597)}),_N_E=e.O()}]);