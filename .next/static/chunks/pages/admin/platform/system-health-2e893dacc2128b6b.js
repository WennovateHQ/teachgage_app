(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8329],{57325:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/platform/system-health",function(){return t(14061)}])},39200:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(63759).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},81296:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(63759).Z)("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]])},44976:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(63759).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},39810:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(63759).Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},90437:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(63759).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},14061:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return N}});var a=t(85893),l=t(67294),r=t(9008),n=t.n(r),i=t(96225),d=t(60493),c=t(39200),o=t(9475),m=t(90437),h=t(39810),x=t(52217),u=t(44976),g=t(63759);let y=(0,g.Z)("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);var p=t(81296),v=t(89354);let j=(0,g.Z)("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);var f=t(86501);function N(){var e,s;let[t,r]=(0,l.useState)(!0),[g,N]=(0,l.useState)(null),[b,w]=(0,l.useState)(null),[k,S]=(0,l.useState)([]),[Z,M]=(0,l.useState)(!1);(0,l.useEffect)(()=>{D();let e=setInterval(D,3e4);return()=>clearInterval(e)},[]);let D=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&M(!0);try{await new Promise(e=>setTimeout(e,1e3));let e={overall:"healthy",uptime:"99.8%",lastUpdate:new Date().toISOString(),services:[{name:"Web Servers",status:"healthy",uptime:"99.9%",responseTime:245},{name:"Database",status:"healthy",uptime:"99.8%",responseTime:12},{name:"CDN",status:"degraded",uptime:"98.5%",responseTime:890},{name:"Email Service",status:"healthy",uptime:"99.7%",responseTime:156},{name:"File Storage",status:"healthy",uptime:"99.9%",responseTime:78},{name:"Authentication",status:"healthy",uptime:"99.8%",responseTime:34}]},s=[{id:1,type:"warning",service:"CDN",message:"CDN response time above threshold (890ms)",timestamp:new Date(Date.now()-3e5).toISOString(),severity:"medium"},{id:2,type:"info",service:"Database",message:"Database backup completed successfully",timestamp:new Date(Date.now()-72e5).toISOString(),severity:"low"},{id:3,type:"warning",service:"Memory",message:"Memory usage approaching 70% threshold",timestamp:new Date(Date.now()-9e5).toISOString(),severity:"medium"}];N(e),w({cpu:{usage:45,trend:"stable"},memory:{usage:68,trend:"increasing"},disk:{usage:37,trend:"stable"},network:{usage:23,trend:"decreasing"},activeConnections:1247,requestsPerMinute:2890,errorRate:.02,averageResponseTime:245}),S(s)}catch(e){console.error("Error fetching system health:",e),f.ZP.error("Failed to load system health data")}finally{r(!1),e&&M(!1)}},T=e=>{let s={healthy:{icon:d.Z,color:"text-green-500"},degraded:{icon:c.Z,color:"text-yellow-500"},down:{icon:o.Z,color:"text-red-500"}};return s[e]||s.healthy},C=e=>{let s={healthy:"bg-green-100 text-green-800",degraded:"bg-yellow-100 text-yellow-800",down:"bg-red-100 text-red-800"};return s[e]||s.healthy},_=e=>{let s={error:{icon:o.Z,color:"text-red-500"},warning:{icon:c.Z,color:"text-yellow-500"},info:{icon:d.Z,color:"text-blue-500"}};return s[e]||s.info},R=e=>{let s={increasing:{icon:m.Z,color:"text-red-500"},decreasing:{icon:h.Z,color:"text-green-500"},stable:{icon:x.Z,color:"text-gray-500"}};return s[e]||s.stable},U=e=>new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return t?(0,a.jsx)(i.Z,{title:"System Health",children:(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-teachgage-blue"})})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n(),{children:[(0,a.jsx)("title",{children:"System Health - TeachGage Admin"}),(0,a.jsx)("meta",{name:"description",content:"System health monitoring and status dashboard"})]}),(0,a.jsxs)(i.Z,{title:"System Health",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"System Health"}),(0,a.jsxs)("p",{className:"text-gray-600",children:["Monitor system status and performance metrics",g&&(0,a.jsxs)("span",{className:"ml-2 text-sm",children:["Last updated: ",U(g.lastUpdate)]})]})]}),(0,a.jsxs)("button",{onClick:()=>{D(!0),(0,f.ZP)("Refreshing system health data...")},disabled:Z,className:"flex items-center px-4 py-2 bg-teachgage-blue text-white rounded-lg hover:bg-teachgage-medium-blue transition-colors disabled:opacity-50",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4 mr-2 ".concat(Z?"animate-spin":"")}),"Refresh"]})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-3 rounded-full ".concat((null==g?void 0:g.overall)==="healthy"?"bg-green-100":"bg-yellow-100"),children:(null==g?void 0:g.overall)==="healthy"?(0,a.jsx)(d.Z,{className:"h-8 w-8 text-green-500"}):(0,a.jsx)(c.Z,{className:"h-8 w-8 text-yellow-500"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:["System Status: ",(null==g?void 0:g.overall)==="healthy"?"All Systems Operational":"Some Issues Detected"]}),(0,a.jsxs)("p",{className:"text-gray-600",children:["Overall uptime: ",null==g?void 0:g.uptime]})]})]})})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"CPU Usage"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[null==b?void 0:b.cpu.usage,"%"]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(y,{className:"h-8 w-8 text-blue-500 mr-2"}),(()=>{let e=R(null==b?void 0:b.cpu.trend),s=e.icon;return(0,a.jsx)(s,{className:"h-4 w-4 ".concat(e.color)})})()]})]}),(0,a.jsx)("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"".concat(null==b?void 0:b.cpu.usage,"%")}})})]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Memory Usage"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[null==b?void 0:b.memory.usage,"%"]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(p.Z,{className:"h-8 w-8 text-green-500 mr-2"}),(()=>{let e=R(null==b?void 0:b.memory.trend),s=e.icon;return(0,a.jsx)(s,{className:"h-4 w-4 ".concat(e.color)})})()]})]}),(0,a.jsx)("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"".concat(null==b?void 0:b.memory.usage,"%")}})})]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Disk Usage"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[null==b?void 0:b.disk.usage,"%"]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(v.Z,{className:"h-8 w-8 text-purple-500 mr-2"}),(()=>{let e=R(null==b?void 0:b.disk.trend),s=e.icon;return(0,a.jsx)(s,{className:"h-4 w-4 ".concat(e.color)})})()]})]}),(0,a.jsx)("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:"".concat(null==b?void 0:b.disk.usage,"%")}})})]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Network Usage"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[null==b?void 0:b.network.usage,"%"]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(j,{className:"h-8 w-8 text-orange-500 mr-2"}),(()=>{let e=R(null==b?void 0:b.network.trend),s=e.icon;return(0,a.jsx)(s,{className:"h-4 w-4 ".concat(e.color)})})()]})]}),(0,a.jsx)("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:"".concat(null==b?void 0:b.network.usage,"%")}})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Service Status"}),(0,a.jsx)("div",{className:"space-y-4",children:null==g?void 0:g.services.map((e,s)=>{let t=T(e.status),l=t.icon;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(l,{className:"h-5 w-5 ".concat(t.color," mr-3")}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Uptime: ",e.uptime]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("span",{className:"px-2 py-1 text-xs rounded-full font-medium ".concat(C(e.status)),children:e.status}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[e.responseTime,"ms"]})]})]},s)})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Metrics"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Active Connections"}),(0,a.jsx)("span",{className:"font-medium text-gray-900",children:null==b?void 0:null===(e=b.activeConnections)||void 0===e?void 0:e.toLocaleString()})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Requests/Minute"}),(0,a.jsx)("span",{className:"font-medium text-gray-900",children:null==b?void 0:null===(s=b.requestsPerMinute)||void 0===s?void 0:s.toLocaleString()})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Error Rate"}),(0,a.jsxs)("span",{className:"font-medium text-gray-900",children:[null==b?void 0:b.errorRate,"%"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Avg Response Time"}),(0,a.jsxs)("span",{className:"font-medium text-gray-900",children:[null==b?void 0:b.averageResponseTime,"ms"]})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Alerts"}),(0,a.jsx)("div",{className:"space-y-4",children:k.map(e=>{let s=_(e.type),t=s.icon;return(0,a.jsxs)("div",{className:"flex items-start space-x-3 p-4 bg-gray-50 rounded-lg",children:[(0,a.jsx)(t,{className:"h-5 w-5 ".concat(s.color," mt-0.5")}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:e.service}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:U(e.timestamp)})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.message})]})]},e.id)})})]})]})]})}}},function(e){e.O(0,[7005,7185,2888,9774,179],function(){return e(e.s=57325)}),_N_E=e.O()}]);