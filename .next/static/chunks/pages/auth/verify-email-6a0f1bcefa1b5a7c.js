(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7867],{42971:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/verify-email",function(){return s(38903)}])},43765:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(63759).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},92761:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(63759).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},60493:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(63759).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},60641:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(63759).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},86691:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(63759).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},44976:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(63759).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},38903:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var a=s(85893),i=s(67294),r=s(11163),c=s(9008),l=s.n(c),n=s(41664),d=s.n(n),h=s(60641),x=s(60493),o=s(43765),u=s(44976),m=s(92761),g=s(86691);function f(){let{token:e,email:t}=(0,r.useRouter)().query,[s,c]=(0,i.useState)(!0),[n,f]=(0,i.useState)(!1),[j,y]=(0,i.useState)(""),[p,b]=(0,i.useState)(!1),[v,N]=(0,i.useState)("");(0,i.useEffect)(()=>{e?w():t&&c(!1)},[e,t]);let w=async()=>{try{let t=await fetch("/api/auth/verify-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})}),s=await t.json();t.ok?f(!0):y(s.message||"Email verification failed")}catch(e){console.error("Email verification error:",e),y("Network error. Please try again.")}finally{c(!1)}},k=async()=>{if(!t){N("Email address not available. Please request verification from your account settings.");return}b(!0),N("");try{let e=await fetch("/api/auth/resend-verification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})}),s=await e.json();e.ok?N("Verification email sent successfully! Please check your inbox."):N(s.message||"Failed to resend verification email")}catch(e){console.error("Resend verification error:",e),N("Network error. Please try again.")}finally{b(!1)}};return s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l(),{children:(0,a.jsx)("title",{children:"Verifying Email - TeachGage"})}),(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(h.Z,{className:"w-8 h-8 animate-spin mx-auto text-teachgage-blue"}),(0,a.jsx)("p",{className:"mt-2 text-teachgage-navy",children:"Verifying your email..."})]})})]}):n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l(),{children:(0,a.jsx)("title",{children:"Email Verified - TeachGage"})}),(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"mx-auto h-16 w-16 bg-teachgage-green rounded-full flex items-center justify-center",children:(0,a.jsx)(x.Z,{className:"h-8 w-8 text-white"})}),(0,a.jsx)("h2",{className:"mt-6 text-3xl font-extrabold text-teachgage-blue",children:"Email Verified!"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-teachgage-navy",children:"Your email address has been successfully verified. You can now access all features of your TeachGage account."})]}),(0,a.jsx)("div",{className:"bg-white py-8 px-6 shadow-lg rounded-lg",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsxs)("div",{className:"bg-teachgage-cream p-4 rounded-lg",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-teachgage-blue mb-2",children:"What's Next?"}),(0,a.jsxs)("ul",{className:"text-sm text-teachgage-navy space-y-2",children:[(0,a.jsx)("li",{children:"• Access your dashboard and explore features"}),(0,a.jsx)("li",{children:"• Create your first course or survey"}),(0,a.jsx)("li",{children:"• Complete your profile setup"}),(0,a.jsx)("li",{children:"• Invite students or colleagues"})]})]}),(0,a.jsx)(d(),{href:"/dashboard",children:(0,a.jsx)("button",{className:"w-full flex justify-center py-3 px-4 bg-teachgage-blue text-white rounded-md hover:bg-teachgage-medium-blue transition-colors",children:"Go to Dashboard"})}),(0,a.jsx)(d(),{href:"/auth/signin",children:(0,a.jsx)("button",{className:"w-full flex justify-center items-center py-2 px-4 border border-teachgage-blue text-teachgage-blue rounded-md hover:bg-teachgage-blue hover:text-white transition-colors",children:"Sign In"})})]})})]})})]}):j?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l(),{children:(0,a.jsx)("title",{children:"Email Verification Failed - TeachGage"})}),(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"mx-auto h-16 w-16 bg-red-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(o.Z,{className:"h-8 w-8 text-red-600"})}),(0,a.jsx)("h2",{className:"mt-6 text-3xl font-extrabold text-teachgage-blue",children:"Verification Failed"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-teachgage-navy",children:j})]}),(0,a.jsx)("div",{className:"bg-white py-8 px-6 shadow-lg rounded-lg",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-red-50 p-4 rounded-lg",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-red-800 mb-2",children:"Common Issues:"}),(0,a.jsxs)("ul",{className:"text-xs text-red-700 space-y-1",children:[(0,a.jsx)("li",{children:"• Verification link has expired (links expire after 24 hours)"}),(0,a.jsx)("li",{children:"• Link has already been used"}),(0,a.jsx)("li",{children:"• Invalid or corrupted verification token"})]})]}),v&&(0,a.jsx)("div",{className:"p-4 rounded-lg ".concat(v.includes("successfully")?"bg-green-50 text-green-800":"bg-red-50 text-red-800"),children:(0,a.jsx)("p",{className:"text-sm",children:v})}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("button",{onClick:k,disabled:p,className:"w-full flex justify-center items-center py-2 px-4 bg-teachgage-blue text-white rounded-md hover:bg-teachgage-medium-blue transition-colors disabled:opacity-50",children:p?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.Z,{className:"w-4 h-4 mr-2"}),"Resend Verification Email"]})}),(0,a.jsx)(d(),{href:"/auth/signin",children:(0,a.jsxs)("button",{className:"w-full flex justify-center items-center py-2 px-4 border border-teachgage-blue text-teachgage-blue rounded-md hover:bg-teachgage-blue hover:text-white transition-colors",children:[(0,a.jsx)(m.Z,{className:"w-4 h-4 mr-2"}),"Back to Sign In"]})})]})]})})]})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l(),{children:(0,a.jsx)("title",{children:"Verify Your Email - TeachGage"})}),(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"mx-auto h-16 w-16 bg-teachgage-blue rounded-full flex items-center justify-center",children:(0,a.jsx)(g.Z,{className:"h-8 w-8 text-white"})}),(0,a.jsx)("h2",{className:"mt-6 text-3xl font-extrabold text-teachgage-blue",children:"Verify Your Email"}),(0,a.jsxs)("p",{className:"mt-2 text-sm text-teachgage-navy",children:["We've sent a verification link to ",(0,a.jsx)("strong",{children:t})]})]}),(0,a.jsx)("div",{className:"bg-white py-8 px-6 shadow-lg rounded-lg",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(g.Z,{className:"mx-auto h-12 w-12 text-teachgage-blue"}),(0,a.jsx)("h3",{className:"mt-2 text-lg font-medium text-teachgage-blue",children:"Check Your Email"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-teachgage-navy",children:"Click the verification link in your email to activate your account."})]}),(0,a.jsxs)("div",{className:"bg-teachgage-cream p-4 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm text-teachgage-navy",children:(0,a.jsx)("strong",{children:"Didn't receive the email?"})}),(0,a.jsxs)("ul",{className:"mt-2 text-xs text-teachgage-navy space-y-1",children:[(0,a.jsx)("li",{children:"• Check your spam/junk folder"}),(0,a.jsx)("li",{children:"• Make sure you entered the correct email address"}),(0,a.jsx)("li",{children:"• Wait a few minutes for the email to arrive"})]})]}),v&&(0,a.jsx)("div",{className:"p-4 rounded-lg ".concat(v.includes("successfully")?"bg-green-50 text-green-800":"bg-red-50 text-red-800"),children:(0,a.jsx)("p",{className:"text-sm",children:v})}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("button",{onClick:k,disabled:p,className:"w-full flex justify-center items-center py-2 px-4 bg-teachgage-blue text-white rounded-md hover:bg-teachgage-medium-blue transition-colors disabled:opacity-50",children:p?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.Z,{className:"w-4 h-4 mr-2"}),"Resend Verification Email"]})}),(0,a.jsx)(d(),{href:"/auth/signin",children:(0,a.jsxs)("button",{className:"w-full flex justify-center items-center py-2 px-4 border border-teachgage-blue text-teachgage-blue rounded-md hover:bg-teachgage-blue hover:text-white transition-colors",children:[(0,a.jsx)(m.Z,{className:"w-4 h-4 mr-2"}),"Back to Sign In"]})})]})]})})]})})]})}},11163:function(e,t,s){e.exports=s(43079)}},function(e){e.O(0,[7005,2888,9774,179],function(){return e(e.s=42971)}),_N_E=e.O()}]);