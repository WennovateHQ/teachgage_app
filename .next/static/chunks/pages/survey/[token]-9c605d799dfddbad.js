(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6240],{6396:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/survey/[token]",function(){return s(68675)}])},63759:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var r=s(67294),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,t)=>{let s=(0,r.forwardRef)((s,i)=>{let{color:l="currentColor",size:c=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:u="",children:h,...m}=s;return(0,r.createElement)("svg",{ref:i,...a,width:c,height:c,stroke:l,strokeWidth:d?24*Number(o)/Number(c):o,className:["lucide","lucide-".concat(n(e)),u].join(" "),...m},[...t.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(h)?h:[h]])});return s.displayName="".concat(e),s}},43765:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(63759).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},92761:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(63759).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},83989:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(63759).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},60493:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(63759).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},50039:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(63759).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},73416:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(63759).Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},70088:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(63759).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},68675:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var r=s(85893),a=s(67294),n=s(11163),i=s(9008),l=s.n(i),c=s(64017),o=s(43765),d=s(60493),u=s(73416),h=s(70088),m=s(63759);let x=(0,m.Z)("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]),g=(0,m.Z)("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);var b=s(50039),p=s(92761),y=s(83989);function f(){let{token:e}=(0,n.useRouter)().query,[t,s]=(0,a.useState)(null),[i,m]=(0,a.useState)(0),[f,v]=(0,a.useState)({}),[j,N]=(0,a.useState)(!1),[w,k]=(0,a.useState)(!1),[q,Z]=(0,a.useState)(!0),[C,S]=(0,a.useState)("");(0,a.useEffect)(()=>{e&&setTimeout(()=>{let e=c.Ph[0];e&&"active"===e.status?s({...e,questions:[{id:1,type:"rating",question:"How would you rate the overall quality of this course?",required:!0,options:{scale:5,labels:["Poor","Fair","Good","Very Good","Excellent"]}},{id:2,type:"multiple_choice",question:"Which aspect of the course did you find most valuable?",required:!0,options:{choices:["Course content and materials","Instructor teaching style","Practical exercises and assignments","Class discussions and interactions","Assessment methods"]}},{id:3,type:"likert",question:"Please indicate your level of agreement with the following statements:",required:!0,options:{statements:["The course objectives were clearly defined","The instructor was well-prepared for classes","The workload was appropriate for the course level","I would recommend this course to other students"],scale:["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"]}},{id:4,type:"text",question:"What suggestions do you have for improving this course?",required:!1,options:{placeholder:"Please share your thoughts and suggestions..."}},{id:5,type:"yes_no",question:"Would you recommend this course to other students?",required:!0}]}):S("Survey not found or no longer active."),Z(!1)},1e3)},[e]);let _=(e,t)=>{v(s=>({...s,[e]:t}))},A=async()=>{if(N(!0),t.questions.filter(e=>e.required).filter(e=>!f[e.id]).length>0){S("Please answer all required questions before submitting."),N(!1);return}try{await new Promise(e=>setTimeout(e,2e3)),k(!0)}catch(e){S("Failed to submit survey. Please try again.")}finally{N(!1)}};if(q)return(0,r.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teachgage-blue mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-teachgage-navy",children:"Loading survey..."})]})});if(C&&!t)return(0,r.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center max-w-md mx-auto p-6",children:[(0,r.jsx)(o.Z,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-teachgage-blue mb-2",children:"Survey Not Available"}),(0,r.jsx)("p",{className:"text-teachgage-navy mb-6",children:C}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"If you believe this is an error, please contact the course instructor."})]})});if(w)return(0,r.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center max-w-md mx-auto p-6",children:[(0,r.jsx)(d.Z,{className:"w-16 h-16 text-teachgage-green mx-auto mb-4"}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-teachgage-blue mb-2",children:"Thank You!"}),(0,r.jsx)("p",{className:"text-teachgage-navy mb-6",children:"Your feedback has been submitted successfully. Your responses help improve the course experience for everyone."}),(0,r.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-center text-sm text-teachgage-navy",children:[(0,r.jsx)(u.Z,{className:"w-4 h-4 mr-2"}),"Your responses are completely anonymous"]})})]})});if(!t)return null;let P=t.questions[i],T=(i+1)/t.questions.length*100;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l(),{children:[(0,r.jsxs)("title",{children:[t.title," - TeachGage Survey"]}),(0,r.jsx)("meta",{name:"description",content:t.description})]}),(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,r.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-teachgage-blue",children:t.title}),(0,r.jsx)("p",{className:"text-teachgage-navy mt-1",children:t.description})]}),(0,r.jsxs)("div",{className:"flex items-center text-sm text-teachgage-navy",children:[(0,r.jsx)(b.Z,{className:"w-4 h-4 mr-1"}),(0,r.jsx)("span",{children:"~5 minutes"})]})]})})}),(0,r.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsxs)("span",{className:"text-sm font-medium text-teachgage-navy",children:["Question ",i+1," of ",t.questions.length]}),(0,r.jsxs)("span",{className:"text-sm text-teachgage-navy",children:[Math.round(T),"% Complete"]})]}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,r.jsx)("div",{className:"bg-teachgage-blue h-2 rounded-full transition-all duration-300",style:{width:"".concat(T,"%")}})})]})}),(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 p-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("h2",{className:"text-xl font-semibold text-teachgage-blue mb-4",children:[P.question,P.required&&(0,r.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(e=>{switch(e.type){case"rating":return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{className:"flex justify-center space-x-2",children:Array.from({length:e.options.scale},(t,s)=>(0,r.jsx)("button",{onClick:()=>_(e.id,s+1),className:"p-3 rounded-lg border-2 transition-colors ".concat(f[e.id]===s+1?"border-teachgage-blue bg-teachgage-blue text-white":"border-gray-300 hover:border-teachgage-blue"),children:(0,r.jsx)(h.Z,{className:"w-6 h-6 ".concat(f[e.id]===s+1?"fill-current":"")})},s+1))}),(0,r.jsxs)("div",{className:"flex justify-between text-sm text-teachgage-navy",children:[(0,r.jsx)("span",{children:e.options.labels[0]}),(0,r.jsx)("span",{children:e.options.labels[e.options.labels.length-1]})]})]});case"multiple_choice":return(0,r.jsx)("div",{className:"space-y-3",children:e.options.choices.map((t,s)=>(0,r.jsx)("button",{onClick:()=>_(e.id,t),className:"w-full text-left p-4 rounded-lg border-2 transition-colors ".concat(f[e.id]===t?"border-teachgage-blue bg-teachgage-blue text-white":"border-gray-300 hover:border-teachgage-blue"),children:t},s))});case"likert":return(0,r.jsx)("div",{className:"space-y-6",children:e.options.statements.map((t,s)=>(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("p",{className:"font-medium text-teachgage-navy",children:t}),(0,r.jsx)("div",{className:"grid grid-cols-5 gap-2",children:e.options.scale.map((t,a)=>{var n;return(0,r.jsx)("button",{onClick:()=>{let t=f[e.id]||{};_(e.id,{...t,[s]:a})},className:"p-2 text-xs rounded border-2 transition-colors ".concat((null===(n=f[e.id])||void 0===n?void 0:n[s])===a?"border-teachgage-blue bg-teachgage-blue text-white":"border-gray-300 hover:border-teachgage-blue"),children:t},a)})})]},s))});case"text":return(0,r.jsx)("textarea",{value:f[e.id]||"",onChange:t=>_(e.id,t.target.value),placeholder:e.options.placeholder,rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teachgage-blue focus:border-transparent resize-none"});case"yes_no":return(0,r.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,r.jsxs)("button",{onClick:()=>_(e.id,"yes"),className:"flex items-center px-6 py-3 rounded-lg border-2 transition-colors ".concat("yes"===f[e.id]?"border-teachgage-green bg-teachgage-green text-white":"border-gray-300 hover:border-teachgage-green"),children:[(0,r.jsx)(x,{className:"w-5 h-5 mr-2"}),"Yes"]}),(0,r.jsxs)("button",{onClick:()=>_(e.id,"no"),className:"flex items-center px-6 py-3 rounded-lg border-2 transition-colors ".concat("no"===f[e.id]?"border-red-500 bg-red-500 text-white":"border-gray-300 hover:border-red-500"),children:[(0,r.jsx)(g,{className:"w-5 h-5 mr-2"}),"No"]})]});default:return(0,r.jsx)("div",{children:"Unsupported question type"})}})(P)]}),C&&(0,r.jsxs)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center text-red-800",children:[(0,r.jsx)(o.Z,{className:"w-5 h-5 mr-2"}),C]}),(0,r.jsxs)("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[(0,r.jsxs)("button",{onClick:()=>{i>0&&m(i-1)},disabled:0===i,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-teachgage-navy rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,r.jsx)(p.Z,{className:"w-4 h-4 mr-2"}),"Previous"]}),(0,r.jsx)("div",{className:"flex space-x-3",children:i<t.questions.length-1?(0,r.jsxs)("button",{onClick:()=>{i<t.questions.length-1&&m(i+1)},className:"inline-flex items-center px-6 py-2 bg-teachgage-blue text-white rounded-lg hover:bg-teachgage-medium-blue transition-colors",children:["Next",(0,r.jsx)(y.Z,{className:"w-4 h-4 ml-2"})]}):(0,r.jsx)("button",{onClick:A,disabled:j,className:"inline-flex items-center px-6 py-2 bg-teachgage-green text-white rounded-lg hover:bg-green-600 transition-colors disabled:opacity-50",children:j?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Z,{className:"w-4 h-4 mr-2"}),"Submit Survey"]})})})]})]}),(0,r.jsx)("div",{className:"mt-6 text-center",children:(0,r.jsxs)("div",{className:"inline-flex items-center text-sm text-gray-500",children:[(0,r.jsx)(u.Z,{className:"w-4 h-4 mr-2"}),"Your responses are completely anonymous and confidential"]})})]})]})]})}},9008:function(e,t,s){e.exports=s(23867)},11163:function(e,t,s){e.exports=s(43079)}},function(e){e.O(0,[2888,9774,179],function(){return e(e.s=6396)}),_N_E=e.O()}]);