"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[307],{40307:function(e,t,s){s.d(t,{pt:function(){return f},f_:function(){return k},MX:function(){return v},PW:function(){return y},m0:function(){return m},wn:function(){return w}});var a=s(88767),r=s(87066);let o={courses:[{id:"1",title:"Introduction to Photography",description:"Learn the basics of photography including composition, lighting, and camera settings.",status:"active",studentCount:24,createdAt:"2024-01-15T10:00:00Z",updatedAt:"2024-01-20T14:30:00Z",instructor:"Demo Teacher",duration:"8 weeks",category:"Arts"},{id:"2",title:"Advanced Digital Marketing",description:"Master digital marketing strategies including SEO, social media, and content marketing.",status:"active",studentCount:18,createdAt:"2024-02-01T09:00:00Z",updatedAt:"2024-02-05T16:45:00Z",instructor:"Demo Teacher",duration:"12 weeks",category:"Business"},{id:"3",title:"Web Development Fundamentals",description:"Build modern websites using HTML, CSS, JavaScript, and React.",status:"draft",studentCount:0,createdAt:"2024-02-10T11:00:00Z",updatedAt:"2024-02-10T11:00:00Z",instructor:"Demo Teacher",duration:"16 weeks",category:"Technology"}],feedbackForms:[{id:"1",title:"Mid-Course Photography Feedback",description:"Collect feedback on photography course progress and teaching methods.",courseId:"1",courseName:"Introduction to Photography",status:"active",responseCount:18,createdAt:"2024-01-25T10:00:00Z",questions:[{id:"1",type:"rating",question:"How would you rate the course content?",required:!0},{id:"2",type:"text",question:"What aspects of the course do you find most valuable?",required:!1},{id:"3",type:"rating",question:"How clear are the instructor's explanations?",required:!0}]},{id:"2",title:"Digital Marketing Course Evaluation",description:"End-of-course evaluation for digital marketing students.",courseId:"2",courseName:"Advanced Digital Marketing",status:"active",responseCount:12,createdAt:"2024-02-15T14:00:00Z",questions:[{id:"1",type:"rating",question:"Overall course satisfaction",required:!0},{id:"2",type:"multiple-choice",question:"Which topic was most useful?",options:["SEO","Social Media","Content Marketing","Analytics"],required:!0},{id:"3",type:"text",question:"Suggestions for improvement",required:!1}]}],analytics:{dashboardStats:{totalCourses:8,activeForms:12,totalResponses:247,averageRating:4.6},responseTrends:[{date:"2024-01-01",responses:15},{date:"2024-01-02",responses:23},{date:"2024-01-03",responses:18},{date:"2024-01-04",responses:31},{date:"2024-01-05",responses:27}]}},i=async()=>!0,n=r.Z.create({baseURL:"http://localhost:5000",headers:{"Content-Type":"application/json"}});n.interceptors.request.use(async e=>{let t=localStorage.getItem("teachgage_token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),n.interceptors.response.use(e=>e,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&(window.location.href="/auth/signin"),Promise.reject(e)});let u=async e=>{if(await i()){let t=[...o.courses];return(null==e?void 0:e.search)&&(t=t.filter(t=>t.title.toLowerCase().includes(e.search.toLowerCase())||t.description.toLowerCase().includes(e.search.toLowerCase()))),(null==e?void 0:e.status)&&"all"!==e.status&&(t=t.filter(t=>t.status===e.status)),{data:{courses:t,pagination:{page:(null==e?void 0:e.page)||1,limit:(null==e?void 0:e.limit)||10,total:t.length,totalPages:Math.ceil(t.length/((null==e?void 0:e.limit)||10))}}}}return n.get("/api/courses",{params:e})},c=e=>n.delete("/api/courses/".concat(e)),d=async e=>{if(await i()){let t=[...o.feedbackForms];return(null==e?void 0:e.search)&&(t=t.filter(t=>t.title.toLowerCase().includes(e.search.toLowerCase())||t.description.toLowerCase().includes(e.search.toLowerCase()))),(null==e?void 0:e.status)&&"all"!==e.status&&(t=t.filter(t=>t.status===e.status)),{data:t}}return n.get("/api/feedback-forms",{params:e})},l=e=>n.delete("/api/feedback-forms/".concat(e)),p=async()=>await i()?{data:o.analytics.dashboardStats}:n.get("/api/analytics/dashboard"),g=async e=>await i()?{data:o.analytics.responseTrends}:n.get("/api/analytics/trends",{params:e});var h=s(86501);let f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.useQuery)(["courses",e],()=>u(e),{staleTime:12e4})},v=()=>{let e=(0,a.useQueryClient)();return(0,a.useMutation)(c,{onSuccess:()=>{e.invalidateQueries("courses"),h.ZP.success("Course deleted successfully")},onError:e=>{var t,s;h.ZP.error((null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.message)||"Failed to delete course")}})},m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.useQuery)(["feedback-forms",e],()=>d(e),{staleTime:12e4})},y=()=>{let e=(0,a.useQueryClient)();return(0,a.useMutation)(l,{onSuccess:()=>{e.invalidateQueries("feedback-forms"),h.ZP.success("Feedback form deleted successfully")},onError:e=>{var t,s;h.ZP.error((null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.message)||"Failed to delete feedback form")}})},k=()=>(0,a.useQuery)("dashboard-stats",p,{staleTime:3e5,refetchInterval:3e5}),w=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.useQuery)(["response-trends",e],()=>g(e),{staleTime:3e5})}}}]);