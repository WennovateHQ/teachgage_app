exports.id=9413,exports.ids=[9413],exports.modules={8536:(t,e,a)=>{"use strict";a.d(e,{H:()=>c,a:()=>l});var r=a(997),i=a(6689),s=a(9648);let n={LOGIN_START:"LOGIN_START",LOGIN_SUCCESS:"LOGIN_SUCCESS",LOGIN_FAILURE:"LOGIN_FAILURE",LOGOUT:"LOGOUT",REGISTER_START:"REGISTER_START",REGISTER_SUCCESS:"REGISTER_SUCCESS",REGISTER_FAILURE:"REGISTER_FAILURE",UPDATE_TRIAL_STATUS:"UPDATE_TRIAL_STATUS",FORCE_PASSWORD_CHANGE:"FORCE_PASSWORD_CHANGE",PASSWORD_CHANGED:"PASSWORD_CHANGED",CLEAR_ERROR:"CLEAR_ERROR",INIT_COMPLETE:"INIT_COMPLETE"},o={user:null,token:null,refreshToken:null,isAuthenticated:!1,isLoading:!0,error:null,trialStatus:null,mustChangePassword:!1};function d(t,e){switch(e.type){case n.LOGIN_START:case n.REGISTER_START:return{...t,isLoading:!0,error:null};case n.LOGIN_SUCCESS:case n.REGISTER_SUCCESS:return{...t,user:e.payload.user,token:e.payload.token,refreshToken:e.payload.refreshToken,isAuthenticated:!0,isLoading:!1,error:null,trialStatus:e.payload.trialStatus,mustChangePassword:e.payload.mustChangePassword||!1};case n.LOGIN_FAILURE:case n.REGISTER_FAILURE:return{...t,user:null,token:null,refreshToken:null,isAuthenticated:!1,isLoading:!1,error:e.payload.error,trialStatus:null,mustChangePassword:!1};case n.LOGOUT:return{...o};case n.UPDATE_TRIAL_STATUS:return{...t,trialStatus:e.payload.trialStatus};case n.FORCE_PASSWORD_CHANGE:return{...t,mustChangePassword:!0};case n.PASSWORD_CHANGED:return{...t,mustChangePassword:!1,user:{...t.user,status:"active"}};case n.CLEAR_ERROR:return{...t,error:null};case n.INIT_COMPLETE:return{...t,isLoading:!1};default:return t}}let u=(0,i.createContext)();function c({children:t}){let[e,a]=(0,i.useReducer)(d,o),c=t=>{if(!t||"basic"===t.accountTier)return null;if("professional"===t.accountTier||"organizational"===t.accountTier){if(t.hasSubscription)return{isTrialActive:!1,hasSubscription:!0,subscriptionStatus:t.subscriptionStatus||"active"};if(t.trialEndDate){let e=(0,s.sG)(t.trialEndDate),a=(0,s.ne)(t.trialEndDate);return{isTrialActive:!a,trialStartDate:t.trialStartDate,trialEndDate:t.trialEndDate,daysRemaining:e,expired:a,requiresSubscription:a}}}return null},l=async(t,e)=>{a({type:n.LOGIN_START});try{await new Promise(t=>setTimeout(t,1e3));let r=[...s.Ft.basicInstructors,...s.Ft.professionalInstructors,...s.Ft.organizationAdmins,...s.Ft.organizationInstructors].find(e=>e.email===t);if(!r||"password123"!==e)throw Error("Invalid email or password");let i=`demo_token_${r.id}_${Date.now()}`,o=`demo_refresh_${r.id}_${Date.now()}`,d=c(r),u=r.mustChangePassword||"pending_password_change"===r.status;return localStorage.setItem("teachgage_token",i),localStorage.setItem("teachgage_refresh_token",o),localStorage.setItem("teachgage_user_id",r.id),a({type:n.LOGIN_SUCCESS,payload:{user:r,token:i,refreshToken:o,trialStatus:d,mustChangePassword:u}}),{success:!0,user:r,trialStatus:d,mustChangePassword:u}}catch(t){return a({type:n.LOGIN_FAILURE,payload:{error:t.message}}),{success:!1,error:t.message}}},m=async t=>{a({type:n.REGISTER_START});try{await new Promise(t=>setTimeout(t,1500));let{firstName:e,lastName:r,email:i,password:o,accountTier:d,organizationName:u,organizationType:l}=t;if([...s.Ft.basicInstructors,...s.Ft.professionalInstructors,...s.Ft.organizationAdmins,...s.Ft.organizationInstructors].find(t=>t.email===i))throw Error("Email already exists");let m={id:`demo_${d}_${Date.now()}`,email:i,firstName:e,lastName:r,role:"organizational"===d?"organization_admin":"instructor",accountTier:d,status:"active",emailVerified:!0,createdAt:new Date().toISOString(),lastLogin:null,profilePhoto:null};if("professional"===d||"organizational"===d){let t=new Date,e=new Date;e.setDate(e.getDate()+30),m.trialStartDate=t.toISOString(),m.trialEndDate=e.toISOString(),m.isTrialActive=!0,m.daysRemaining=30,m.hasSubscription=!1}"organizational"===d&&(m.organizationId=`org_${Date.now()}`,m.organizationName=u,m.organizationType=l);let g=`demo_token_${m.id}_${Date.now()}`,p=`demo_refresh_${m.id}_${Date.now()}`,S=c(m);return localStorage.setItem("teachgage_token",g),localStorage.setItem("teachgage_refresh_token",p),localStorage.setItem("teachgage_user_id",m.id),a({type:n.REGISTER_SUCCESS,payload:{user:m,token:g,refreshToken:p,trialStatus:S,mustChangePassword:!1}}),{success:!0,user:m,trialStatus:S}}catch(t){return a({type:n.REGISTER_FAILURE,payload:{error:t.message}}),{success:!1,error:t.message}}},g=async(t,e)=>{try{if(await new Promise(t=>setTimeout(t,1e3)),"TempPass123!"!==t&&"password123"!==t)throw Error("Current password is incorrect");if(e.length<8)throw Error("New password must be at least 8 characters long");return a({type:n.PASSWORD_CHANGED}),{success:!0}}catch(t){return{success:!1,error:t.message}}},p={...e,login:l,register:m,logout:()=>{localStorage.removeItem("teachgage_token"),localStorage.removeItem("teachgage_refresh_token"),localStorage.removeItem("teachgage_user_id"),a({type:n.LOGOUT})},changePassword:g,updateTrialStatus:()=>{if(e.user){let t=c(e.user);a({type:n.UPDATE_TRIAL_STATUS,payload:{trialStatus:t}})}},clearError:()=>{a({type:n.CLEAR_ERROR})},hasPermission:t=>{if(!e.user)return!1;let{accountTier:a,role:r}=e.user;switch(t){case"create_courses":return"basic"!==a||"organization_admin"===r;case"manage_organization":return"organization_admin"===r;case"create_surveys":case"view_analytics":return!0;case"manage_billing":return"organization_admin"===r||"professional"===a;default:return!1}},requiresSubscription:()=>e.trialStatus?.expired&&e.trialStatus?.requiresSubscription};return r.jsx(u.Provider,{value:p,children:t})}function l(){let t=(0,i.useContext)(u);if(!t)throw Error("useAuth must be used within an AuthProvider");return t}},9648:(t,e,a)=>{"use strict";a.d(e,{Ft:()=>r,IR:()=>i,W9:()=>s,dt:()=>n,ne:()=>d,sG:()=>o});let r={basicInstructors:[{id:"basic-001",email:"john.basic@example.com",firstName:"John",lastName:"Smith",role:"instructor",accountTier:"basic",status:"active",emailVerified:!0,createdAt:"2024-01-15T10:00:00Z",lastLogin:"2024-01-20T09:30:00Z",profilePhoto:null,department:"Mathematics",organization:null}],professionalInstructors:[{id:"prof-001",email:"sarah.wilson@university.edu",firstName:"Sarah",lastName:"Wilson",role:"instructor",accountTier:"professional",status:"active",emailVerified:!0,trialStartDate:"2024-01-01T00:00:00Z",trialEndDate:"2024-01-31T23:59:59Z",isTrialActive:!0,daysRemaining:15,hasSubscription:!1,createdAt:"2024-01-01T10:00:00Z",lastLogin:"2024-01-20T14:15:00Z",profilePhoto:"/images/avatars/sarah-wilson.jpg",department:"Computer Science",organization:null},{id:"prof-002",email:"mike.johnson@college.edu",firstName:"Mike",lastName:"Johnson",role:"instructor",accountTier:"professional",status:"active",emailVerified:!0,trialStartDate:"2023-12-01T00:00:00Z",trialEndDate:"2023-12-31T23:59:59Z",isTrialActive:!1,hasSubscription:!0,subscriptionStatus:"active",createdAt:"2023-12-01T10:00:00Z",lastLogin:"2024-01-20T11:45:00Z",profilePhoto:"/images/avatars/mike-johnson.jpg",department:"Business Administration",organization:null}],organizationAdmins:[{id:"org-admin-001",email:"admin@techuniversity.edu",firstName:"Dr. Emily",lastName:"Rodriguez",role:"organization_admin",accountTier:"organizational",status:"active",emailVerified:!0,organizationId:"org-001",trialStartDate:"2024-01-10T00:00:00Z",trialEndDate:"2024-02-09T23:59:59Z",isTrialActive:!0,daysRemaining:20,hasSubscription:!1,createdAt:"2024-01-10T10:00:00Z",lastLogin:"2024-01-20T16:30:00Z",profilePhoto:"/images/avatars/emily-rodriguez.jpg"}],organizationInstructors:[{id:"org-inst-001",email:"david.chen@techuniversity.edu",firstName:"David",lastName:"Chen",role:"instructor",accountTier:"professional",status:"active",emailVerified:!0,organizationId:"org-001",departmentId:"dept-001",createdBy:"org-admin-001",mustChangePassword:!1,createdAt:"2024-01-12T10:00:00Z",lastLogin:"2024-01-20T13:20:00Z",profilePhoto:"/images/avatars/david-chen.jpg"},{id:"org-inst-002",email:"lisa.martinez@techuniversity.edu",firstName:"Lisa",lastName:"Martinez",role:"instructor",accountTier:"professional",status:"pending_password_change",emailVerified:!0,organizationId:"org-001",departmentId:"dept-002",createdBy:"org-admin-001",mustChangePassword:!0,temporaryPassword:"TempPass123!",createdAt:"2024-01-19T15:30:00Z",lastLogin:null,profilePhoto:null}]},i=[{id:"org-001",name:"Tech University",type:"academic",status:"active",adminId:"org-admin-001",trialStartDate:"2024-01-10T00:00:00Z",trialEndDate:"2024-02-09T23:59:59Z",isTrialActive:!0,daysRemaining:20,hasSubscription:!1,maxUsers:100,currentUsers:25,address:{street:"123 University Ave",city:"Tech City",state:"CA",zipCode:"90210",country:"US"},contactInfo:{phone:"+1-555-0123",email:"admin@techuniversity.edu"},createdAt:"2024-01-10T10:00:00Z",updatedAt:"2024-01-20T16:30:00Z"}],s=[{id:"dept-001",name:"Computer Science",code:"CS",description:"Computer Science and Software Engineering",organizationId:"org-001",adminId:"org-inst-001",instructorCount:8,courseCount:12,createdAt:"2024-01-12T10:00:00Z"},{id:"dept-002",name:"Mathematics",code:"MATH",description:"Mathematics and Statistics",organizationId:"org-001",adminId:"org-admin-001",instructorCount:6,courseCount:10,createdAt:"2024-01-12T10:00:00Z"}],n=[{id:"course-basic-001",title:"Introduction to Algebra",description:"Basic algebraic concepts and problem solving",code:"MATH-101",instructorId:"basic-001",instructorName:"John Smith",departmentId:null,organizationId:null,status:"active",startDate:"2024-01-15T00:00:00Z",endDate:"2024-05-15T23:59:59Z",maxStudents:30,currentStudents:25,objectives:["Understand basic algebraic operations","Solve linear equations","Work with polynomials"],prerequisites:["Basic arithmetic"],createdAt:"2024-01-15T10:00:00Z",updatedAt:"2024-01-20T09:30:00Z"},{id:"course-prof-001",title:"Advanced Data Structures",description:"In-depth study of complex data structures and algorithms",code:"CS-301",instructorId:"prof-001",instructorName:"Sarah Wilson",departmentId:null,organizationId:null,status:"active",startDate:"2024-01-20T00:00:00Z",endDate:"2024-05-20T23:59:59Z",maxStudents:40,currentStudents:35,objectives:["Master advanced data structures","Analyze algorithm complexity","Implement efficient solutions"],prerequisites:["Data Structures I","Programming Fundamentals"],createdAt:"2024-01-01T10:00:00Z",updatedAt:"2024-01-20T14:15:00Z"},{id:"course-prof-002",title:"Database Design",description:"Comprehensive database design and management",code:"CS-350",instructorId:"prof-001",instructorName:"Sarah Wilson",departmentId:null,organizationId:null,status:"draft",startDate:"2024-02-01T00:00:00Z",endDate:"2024-06-01T23:59:59Z",maxStudents:35,currentStudents:0,objectives:["Design normalized databases","Write complex SQL queries","Understand database optimization"],prerequisites:["Introduction to Databases"],createdAt:"2024-01-15T10:00:00Z",updatedAt:"2024-01-20T14:15:00Z"},{id:"course-org-001",title:"Software Engineering Principles",description:"Comprehensive software development methodologies",code:"CS-401",instructorId:"org-inst-001",instructorName:"David Chen",departmentId:"dept-001",organizationId:"org-001",status:"active",startDate:"2024-01-15T00:00:00Z",endDate:"2024-05-15T23:59:59Z",maxStudents:50,currentStudents:42,objectives:["Understand SDLC methodologies","Apply Agile principles","Design scalable systems"],prerequisites:["Programming II","Data Structures"],createdAt:"2024-01-12T10:00:00Z",updatedAt:"2024-01-20T13:20:00Z"},{id:"course-org-002",title:"Calculus I",description:"Introduction to differential calculus",code:"MATH-201",instructorId:"org-inst-002",instructorName:"Lisa Martinez",departmentId:"dept-002",organizationId:"org-001",status:"pending",startDate:"2024-02-01T00:00:00Z",endDate:"2024-06-01T23:59:59Z",maxStudents:45,currentStudents:0,objectives:["Master derivative concepts","Apply calculus to real problems","Understand limits and continuity"],prerequisites:["Pre-Calculus"],createdAt:"2024-01-19T15:30:00Z",updatedAt:"2024-01-19T15:30:00Z"}],o=t=>{if(!t||"professional"!==t.accountTier||!t.trialStartDate)return null;let e=new Date(t.trialStartDate);return Math.max(0,30-Math.floor((new Date-e)/864e5))},d=t=>0===o(t)},9413:(t,e,a)=>{"use strict";a.a(t,async(t,r)=>{try{a.r(e),a.d(e,{default:()=>l});var i=a(997);a(108);var s=a(1649),n=a(1175),o=a(6201),d=a(6689),u=a(8536),c=t([o]);function l({Component:t,pageProps:{session:e,...a}}){let[r]=(0,d.useState)(()=>new n.QueryClient({defaultOptions:{queries:{retry:!1,refetchOnWindowFocus:!1}}}));return i.jsx(n.QueryClientProvider,{client:r,children:i.jsx(s.SessionProvider,{session:e,children:(0,i.jsxs)(u.H,{children:[i.jsx(t,{...a}),i.jsx(o.Toaster,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})})})}o=(c.then?(await c)():c)[0],r()}catch(t){r(t)}})},108:()=>{}};